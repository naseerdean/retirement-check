<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sterling Income Strategy</title>

<style>
:root{
 --bg1:#0b1320;
 --bg2:#162a4a;
 --card:rgba(255,255,255,.06);
 --stroke:rgba(255,255,255,.12);
 --text:#f3f6fb;
 --muted:rgba(243,246,251,.70);
 --gold1:#d4af37;
 --gold2:#f4d77a;
 --darkBtn:#223553;
 --ok:#1f3f2b;
 --warn:#6b4f1d;
 --bad:#5a1f2b;
}

*{box-sizing:border-box}
body{
 margin:0;
 font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
 color:var(--text);
 background: radial-gradient(circle at 20% 20%, var(--bg2), var(--bg1));
}
.wrap{
 max-width:760px;
 margin:auto;
 padding:20px 16px 60px;
}
.h1{
 font-family:Georgia,"Times New Roman",serif;
 font-size:36px;
 font-weight:500;
 background:linear-gradient(45deg,#d4af37,#f4d77a);
 -webkit-background-clip:text;
 -webkit-text-fill-color:transparent;
 margin:0 0 6px;
}
.sub{
 font-size:14px;
 color:var(--muted);
 margin:0 0 14px;
}
.progress{
 height:8px;
 background:rgba(255,255,255,.08);
 border-radius:999px;
 overflow:hidden;
}
.bar{
 height:100%;
 width:0%;
 background:linear-gradient(45deg,var(--gold1),var(--gold2));
 transition:.3s;
}
.card{
 background:var(--card);
 border-radius:18px;
 padding:18px;
 margin-top:14px;
 border:1px solid var(--stroke);
 box-shadow:0 15px 50px rgba(0,0,0,.35);
}
.title{
 color:var(--gold2);
 margin-bottom:8px;
}
label{
 font-size:12px;
 font-weight:700;
 display:block;
 margin-top:10px;
}
input,select,textarea{
 width:100%;
 padding:12px;
 margin-top:6px;
 border-radius:12px;
 border:1px solid var(--stroke);
 background:#0f1d33;
 color:white;
}
textarea{min-height:80px;}
button{
 border:none;
 border-radius:12px;
 padding:12px;
 font-weight:700;
 cursor:pointer;
 margin-top:12px;
}
.primary{
 background:linear-gradient(45deg,var(--gold1),var(--gold2));
 color:black;
 width:100%;
}
.secondary{
 background:var(--darkBtn);
 color:white;
 width:100%;
}
.kpis{
 display:grid;
 grid-template-columns:1fr 1fr;
 gap:10px;
 margin-top:12px;
}
@media(max-width:700px){
 .kpis{grid-template-columns:1fr;}
}
.kpi{
 background:rgba(255,255,255,.05);
 padding:12px;
 border-radius:12px;
}
.k{font-size:12px;color:var(--muted);}
.v{font-size:22px;font-weight:800;margin-top:4px;}
.callout{
 margin-top:12px;
 padding:12px;
 border-radius:14px;
}
.hidden{display:none;}
canvas{background:white;border-radius:12px;margin-top:14px;}
.fine{
 font-size:12px;
 color:var(--muted);
 text-align:center;
 margin-top:18px;
}
</style>
</head>

<body>
<div class="wrap">
<div class="h1">Sterling Income Strategy</div>
<div class="sub">Structured sterling-only retirement income planning</div>
<div class="progress"><div class="bar" id="bar"></div></div>

<!-- STEP 1 -->
<div class="card" id="step1">
<div class="title">Why this matters</div>
Retirement income is not just about yield. Inflation compounds. Care costs rise. Markets fluctuate.
<button class="primary" onclick="go(2)">Begin Assessment</button>
</div>

<!-- STEP 2 -->
<div class="card hidden" id="step2">
<div class="title">Your Details</div>

<label>Total Capital (£)</label>
<input id="capital" value="1000000">

<label>Your Age</label>
<input id="age" value="67">

<label>Income Required Now (£)</label>
<input id="inc1" value="60000">

<label>Guaranteed Income (£)</label>
<input id="guar" value="11500">

<label>Later-Life Income (£)</label>
<input id="inc2" value="80000">

<label>Years Until Phase Two</label>
<input id="phase1y" value="8">

<label>Return Assumption (%)</label>
<input id="ret" value="5">

<label>Inflation (%)</label>
<input id="inf" value="3">

<label>Risk Preference</label>
<select id="risk">
<option value="low">Stability First</option>
<option value="moderate" selected>Balanced</option>
<option value="higher">Income First</option>
</select>

<button class="primary" onclick="build()">View Recommendation</button>
<button class="secondary" onclick="go(1)">Back</button>
</div>

<!-- STEP 3 -->
<div class="card hidden" id="step3">
<div class="title">Your Recommended Model</div>

<div class="kpis">
<div class="kpi"><div class="k">Model</div><div class="v" id="modelOut"></div></div>
<div class="kpi"><div class="k">Net Yield (after 0.25%)</div><div class="v" id="yieldOut"></div></div>
<div class="kpi"><div class="k">Net Income</div><div class="v" id="incomeOut"></div></div>
<div class="kpi"><div class="k">Age Funds May Deplete</div><div class="v" id="depleteOut"></div></div>
</div>

<div id="callout" class="callout"></div>

<canvas id="pie" height="280"></canvas>
<canvas id="line" height="300"></canvas>

<hr style="border:1px solid rgba(255,255,255,.1);margin:16px 0;">

<div class="title">Compare Models</div>
Proposal A Net Yield: 4.83%<br>
Proposal B Net Yield: 5.76%

<button class="primary" onclick="go(4)">Accept Proposal</button>
<button class="secondary" onclick="go(2)">Edit Inputs</button>
<button class="secondary" onclick="window.print()">Download PDF</button>

<div class="fine">
Illustrative only. Not financial advice. Capital at risk.
</div>
</div>

<!-- STEP 4 -->
<div class="card hidden" id="step4">
<div class="title">Confirm & Request Implementation</div>

<form action="https://formspree.io/f/mojnewoq" method="POST">
<input name="name" placeholder="Your Name" required>
<input name="email" type="email" placeholder="Your Email" required>
<input type="hidden" name="selectedProposal" id="selectedProposal">
<button class="primary" type="submit">Submit</button>
</form>

<button class="secondary" onclick="go(3)">Back</button>
</div>

</div>

<script>
const fee=0.25;

const A={name:"Proposal A",yield:5.08};
const B={name:"Proposal B",yield:6.01};

function go(n){
["step1","step2","step3","step4"].forEach((id,i)=>
document.getElementById(id).classList.toggle("hidden",i!==n-1));
document.getElementById("bar").style.width=(n*25)+"%";
}

function build(){
let cap=+capital.value;
let age=+age.value;
let inc1=+inc1.value;
let inc2=+inc2.value;
let guar=+guar.value;
let years=+phase1y.value;
let ret=+ret.value/100;
let inf=+inf.value/100;
let risk=risk.value;

let model=(risk==="higher")?B:A;

let netYield=model.yield-fee;
let netIncome=cap*netYield/100;

modelOut.innerText=model.name;
yieldOut.innerText=netYield.toFixed(2)+"%";
incomeOut.innerText="£"+Math.round(netIncome).toLocaleString();

selectedProposal.value=model.name;

// stress test
let bal=cap;
let draw1=inc1-guar;
let draw2=inc2-guar;
let depletion=null;

for(let y=0;y<40;y++){
let draw=(y<years?draw1:draw2)*Math.pow(1+inf,y);
bal=bal*(1+ret)-draw;
if(bal<=0){depletion=age+y;break;}
}
depleteOut.innerText=depletion?depletion:"40+ yrs";

if(depletion){
callout.style.background="#5a1f2b";
callout.innerHTML="<b>⚠ Plan may fail under stress.</b>";
}else{
callout.style.background="#1f3f2b";
callout.innerHTML="<b>Structure appears sustainable under assumptions.</b>";
}

drawPie();
drawLine(cap,ret);

go(3);
}

function drawPie(){
let ctx=pie.getContext("2d");
ctx.clearRect(0,0,pie.width,pie.height);
ctx.fillStyle="#d4af37";
ctx.beginPath();
ctx.arc(150,150,100,0,2*Math.PI);
ctx.fill();
}

function drawLine(cap,ret){
let ctx=line.getContext("2d");
ctx.clearRect(0,0,line.width,line.height);
ctx.beginPath();
ctx.moveTo(20,200);
ctx.lineTo(400,100);
ctx.strokeStyle="#d4af37";
ctx.stroke();
}

go(1);
</script>

</body>
</html>
